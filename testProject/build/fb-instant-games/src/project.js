require=function r(s,l,o){function c(e,t){if(!l[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var i=l[e]={exports:{}};s[e][0].call(i.exports,function(t){return c(s[e][1][t]||t)},i,i.exports,r,s,l,o)}return l[e].exports}for(var u="function"==typeof require&&require,t=0;t<o.length;t++)c(o[t]);return c}({Confirm:[function(t,e,n){"use strict";cc._RF.push(e,"de16eqfqHFKIIT2YijDi3UW","Confirm"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],FbInstantGames:[function(t,e,n){"use strict";cc._RF.push(e,"df65flxV5BIf7nZCQKp8RMQ","FbInstantGames"),cc.Class({extends:cc.Component,properties:{spriteUrl:String,tSprite:cc.Node,gameTitle:"TEST"},onLoad:function(){},start:function(){},shareGame:function(){this.tSprite.active=!0,"undefined"!=typeof FBInstant&&(FBInstant.shareAsync({intent:"SHARE",image:this.getImgBase64(),text:"Great!",data:{myReplayData:"..."}}).then(function(){console.log("Sharing complete")}),this.tSprite.active=!1)},sendRequest:function(){"undefined"!=typeof FBInstant&&FBInstant.context.chooseAsync().then(function(t){this.inviteMessage()})},playMessage:function(){FBInstant.updateAsync({action:"CUSTOM",cta:"Play",image:this.getImgBase64(),text:{default:FBInstant.player.getName()+"just played. It's your turn!",localizations:{ja_JP:FBInstant.player.getName()+"さんがプレイしました。次はあなたの番です！"}},template:"WORD_PLAYED",data:{myReplayData:"..."},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){console.log("Message was sent successfully")}).catch(function(){console.log("failed!")})},inviteMessage:function(){this.tSprite.active=!0,FBInstant.updateAsync({action:"CUSTOM",cta:"Play",image:this.getImgBase64(),text:{default:FBInstant.player.getName()+"just played. It's your turn!",localizations:{en_US:"An invitation letter for "+this.gameTitle+" has arrived from "+FBInstant.player.getName()+"!",pt_BR:"Uma carta de convite para "+this.gameTitle+" chegou de "+FBInstant.player.getName()+"!",id_ID:"Surat undangan untuk "+this.gameTitle+" telah tiba dari "+FBInstant.player.getName()+"!",fr_FR:"Une lettre d'invitation pour "+this.gameTitle+" est arrivée de "+FBInstant.player.getName()+"!",vi_VN:"Một lá thư mời cho "+this.gameTitle+" đã đến từ "+FBInstant.player.getName()+"!",th_TH:"จดหมายเชิญสำหรับ "+this.gameTitle+" มาถึงแล้วจาก "+FBInstant.player.getName()+"!",tr_TR:"Ben "+FBInstant.player.getName()+" bir "+this.gameTitle+" davet aldı!",de_DE:"Ein Einladungsschreiben für "+this.gameTitle+" ist von "+FBInstant.player.getName()+" eingetroffen!",es_ES:"¡Una carta de invitación para "+this.gameTitle+" ha llegado de "+FBInstant.player.getName()+"!",ar_AE:"تم إرسال خطاب دعوة لـ "+this.gameTitle+" من "+FBInstant.player.getName()+"!",ja_JP:FBInstant.player.getName()+"さんから"+this.gameTitle+"の招待状が届きました!",it_IT:"Una lettera di invito per "+this.gameTitle+" è arrivata da "+FBInstant.player.getName()+"!",zh_Hans:"我们收到了"+FBInstant.player.getName()+"的"+this.gameTitle+"邀请！",zh_Hant:"我們收到了"+FBInstant.player.getName()+"的"+this.gameTitle+"邀請！",ru_RU:this.gameTitle+" приглашения прибыл из "+FBInstant.player.getName()+"!",pl_PL:this.gameTitle+" zaproszenia przybył z "+FBInstant.player.getName()+"!",nl_NL:"Een uitnodigingsbrief voor "+this.gameTitle+" is aangekomen van "+FBInstant.player.getName()+"!",sv_SE:"Vi fick en "+this.gameTitle+" inbjudan från "+FBInstant.player.getName()+"!",sv_FI:FBInstant.player.getName()+": lta on saapunut "+this.gameTitle+"-kutsu!",hu_HU:"Meghívás az "+this.gameTitle+"-ra megérkezett a "+FBInstant.player.getName()+"-ból!",el_GR:"Λάβαμε μια πρόσκληση από την "+this.gameTitle+" από "+FBInstant.player.getName()+"!",cs_CZ:"Dostali jsme pozvání od firmy "+this.gameTitle+" od společnosti "+FBInstant.player.getName()+"!"}},template:"WORD_PLAYED",data:{myReplayData:"..."},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){console.log("Message was sent successfully")}).catch(function(){console.log("failed!")}),this.tSprite.active=!1},createShortCut:function(){"undefined"!=typeof FBInstant&&FBInstant.canCreateShortcutAsync().then(function(t){t&&FBInstant.createShortcutAsync().then(function(){}).catch(function(){})})},PlayWithFriends:function(){"undefined"!=typeof FBInstant&&FBInstant.context.chooseAsync().then(function(t){console.log("FBInstant.context.chooseAsync complete"),console.log(t)})},getImgBase64:function(t,e){var n=cc.find("Canvas"),a=720,i=375;null!=t&&null!=e&&(a=t,i=e);var r=new cc.RenderTexture(a,i);r.begin(),n._sgNode.visit(),r.end();var s=document.createElement("canvas"),l=s.getContext("2d");if(s.width=a,s.height=i,cc._renderType===cc.game.RENDER_TYPE_CANVAS){var o=r.getSprite().getTexture().getHtmlElementObj();l.drawImage(o,a/2,i/2)}else if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){var c=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,c);var u=r.getSprite().getTexture()._glID;gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,u,0);var g=new Uint8Array(a*i*4);gl.readPixels(0,0,a,i,gl.RGBA,gl.UNSIGNED_BYTE,g),gl.bindFramebuffer(gl.FRAMEBUFFER,null);for(var m=4*a,h=0;h<i;h++){var p=i-1-h,y=new Uint8ClampedArray(g.buffer,p*a*4,m),f=new ImageData(y,a,1);l.putImageData(f,0,h)}}return s.toDataURL("image/png")}}),cc._RF.pop()},{}],FbMatchGame:[function(t,e,n){"use strict";cc._RF.push(e,"5be29NDA9ZMD6Si2H+Tp5l4","FbMatchGame"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){if(this.myPlayerID=null,this.entryPointData=null,this.applyMath=!1,this.joinMath=!1,this.mathResult=null,"undefined"!=typeof FBInstant&&(this.myPlayerID=FBInstant.player.getID(),this.entryPointData=FBInstant.getEntryPointData(),null!=this.entryPointData&&this.myPlayerID!=this.entryPointData.mathPlayerId)){var e=this;FBInstant.context.getPlayersAsync().then(function(t){t.map(function(t){t.getID()==e.entryPointData.mathPlayerId&&(e.joinMath=!0)})})}},start:function(){},OnEnableTHREAD:function(){return"undefined"!=typeof FBInstant&&"THREAD"==FBInstant.context.getType()},OnApplyMath:function(){return this.applyMath},OnJoinMath:function(){return this.joinMath},GetMathPlayerID:function(){return null!=this.entryPointData?this.entryPointData.mathPlayerId:null},GetMathPlayerName:function(){return null!=this.entryPointData?this.entryPointData.mathPlayerName:null},GetMathPlayerPhoto:function(){return null!=this.entryPointData&&this.joinMath?this.entryPointData.mathPlayerPhoto:null},GetMathScore:function(){return null!=this.entryPointData?this.entryPointData.mathScore:null},GetMyPhoto:function(){return"undefined"!=typeof FBInstant&&null!=this.entryPointData?FBInstant.player.getPhoto():null},GetMathResult:function(t){return null!=this.entryPointData?(null==this.mathResult&&(t>this.entryPointData.mathScore?this.mathResult=0:t<this.entryPointData.mathScore?this.mathResult=1:this.mathResult=2),this.mathResult):null},MathBattleFriendChoose:function(){if("undefined"!=typeof FBInstant){var e=this;FBInstant.context.chooseAsync().then(function(){console.log("FBInstant.context.chooseAsync complete"),e.applyMath=!0,e.MathUpdateAsync(81)}).catch(function(t){console.log(t),"SAME_CONTEXT"==t.code&&(e.applyMath=!0,e.MathUpdateAsync(81))})}},MathUpdateAsync:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if("undefined"!=typeof FBInstant){var e=FBInstant.player;FBInstant.updateAsync({action:"CUSTOM",cta:"Play",image:this.getImgBase64(),text:{default:FBInstant.player.getName()+"just played. It's your turn!",localizations:{en_US:FBInstant.player.getName()+" earned "+t+" points!\nNext is your turn!",pt_BR:FBInstant.player.getName()+" marcou "+t+" pontos！\nEm seguida é sua vez!",id_ID:FBInstant.player.getName()+" mencetak "+t+" poin！\nBerikutnya giliran Anda!",fr_FR:FBInstant.player.getName()+" a marqué "+t+" points！\nEnsuite vient ton tour!",vi_VN:FBInstant.player.getName()+" ghi được "+t+" điểm！\nTiếp theo là lượt của bạn!",th_TH:FBInstant.player.getName()+" ได้ "+t+" คะแนน！\nถัดไปคือตาคุณ!",tr_TR:FBInstant.player.getName()+" "+t+" sayı attı！\nSıra sizde!",de_DE:FBInstant.player.getName()+" erzielte "+t+" Punkte！\nAls nächstes sind Sie dran!",es_ES:FBInstant.player.getName()+" anotó "+t+" puntos！\nEl siguiente es tu turno!",ar_AE:" نقاط!"+t+" "+FBInstant.player.getName()+"\nالتالي هو دورك!",ja_JP:FBInstant.player.getName()+"さんが"+t+"ポイント獲得しました！\n次はあなたの番です!",it_IT:FBInstant.player.getName()+" ha segnato "+t+" punti！\nIl prossimo è il tuo turno!",zh_Hans:FBInstant.player.getName()+"拿下"+t+"分！\n接下来轮到你了!",zh_Hant:FBInstant.player.getName()+"拿下"+t+"分！\n接下來輪到你了!",ru_RU:FBInstant.player.getName()+" набрал "+t+" очков ！\nДалее твоя очередь!",pl_PL:FBInstant.player.getName()+" zdobyła "+t+" punktów ！\nNastępna jest twoja kolej!",nl_NL:FBInstant.player.getName()+" scoorde "+t+" punten！\nHet volgende is jouw beurt!",sv_SE:FBInstant.player.getName()+" gjorde "+t+" poäng！\nNästa är din tur!",sv_FI:FBInstant.player.getName()+" gjorde "+t+" poäng！\nNästa är din tur!",hu_HU:FBInstant.player.getName()+" "+t+" pontot szerzett！\nEzután a sorod!",el_GR:FBInstant.player.getName()+" σημείωσε "+t+" πόντους！\nΣτη συνέχεια είναι η σειρά σας!",cs_CZ:FBInstant.player.getName()+" vstřelil "+t+" bodů！\nDalší je řada na vás!"}},template:"WORD_PLAYED",data:{mathPlayerId:e.getID(),mathPlayerName:e.getName(),mathPlayerPhoto:e.getPhoto(),mathScore:t},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){console.log("Message was sent successfully OK")}).catch(function(t){return console.error(t)})}},getImgBase64:function(t,e){var n=cc.find("Canvas"),a=720,i=375;null!=t&&null!=e&&(a=t,i=e);var r=new cc.RenderTexture(a,i);r.begin(),n._sgNode.visit(),r.end();var s=document.createElement("canvas"),l=s.getContext("2d");if(s.width=a,s.height=i,cc._renderType===cc.game.RENDER_TYPE_CANVAS){var o=r.getSprite().getTexture().getHtmlElementObj();l.drawImage(o,a/2,i/2)}else if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){var c=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,c);var u=r.getSprite().getTexture()._glID;gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,u,0);var g=new Uint8Array(a*i*4);gl.readPixels(0,0,a,i,gl.RGBA,gl.UNSIGNED_BYTE,g),gl.bindFramebuffer(gl.FRAMEBUFFER,null);for(var m=4*a,h=0;h<i;h++){var p=i-1-h,y=new Uint8ClampedArray(g.buffer,p*a*4,m),f=new ImageData(y,a,1);l.putImageData(f,0,h)}}return s.toDataURL("image/png")}}),cc._RF.pop()},{}]},{},["Confirm","FbInstantGames","FbMatchGame"]);